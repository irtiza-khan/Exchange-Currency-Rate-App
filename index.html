<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" 
    integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" 
    crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css">
    <link rel="#" href="https://bootswatch.com/yeti/">
    <title>Currency Exchange App</title>    

    <script>

function calculate(){
    const req =  new XMLHttpRequest();
    var fromCurrency =  document.getElementById('from_currency').value; // getting value from Currency
    var toCurrency =  document.getElementById('to_currency').value; //Getting Value To Currency
    const toAmount = document.getElementById('to_amount');
    const api  = `https://v6.exchangerate-api.com/v6/96d6084ee5ed9f6a344d2ba7/latest/${fromCurrency}`;
    req.open('GET',api,true);
    req.onload = () => {
        var response =  JSON.parse(req.responseText);
       const rate =  response.conversion_rates[toCurrency]; // ye to currency wala object agaya 
       const fromAmount =  document.getElementById('from_amount').value;
       toAmount.value =  (fromAmount * rate).toFixed(2);
        console.log(rate);
       console.log(response);


    }

    req.send();
}
    </script>
</head>
<body onload="calculate()" > 

          <div class="container">
               <header>
                   <h1 class="heading">Currency Convertor App</h1>
               </header>     

            <div class="from-currency">
                <tabel class="main-table">
                    <p>From Currency </p>
                     <tr>
                           <td>
                                 <select  id="from_currency"  onchange="calculate()">
                                    <option value="AED">AED</option>
                                    <option value="ARS">ARS</option>
                                    <option value="AUD">AUD</option>
                                    <option value="BGN">BGN</option>
                                    <option value="BRL">BRL</option>
                                    <option value="BSD">BSD</option>
                                    <option value="CAD">CAD</option>
                                    <option value="CHF">CHF</option>
                                    <option value="CLP">CLP</option>
                                    <option value="CNY">CNY</option>
                                    <option value="COP">COP</option>
                                    <option value="CZK">CZK</option>
                                    <option value="DKK">DKK</option>
                                    <option value="DOP">DOP</option>
                                    <option value="EGP">EGP</option>
                                    <option value="EUR">EUR</option>
                                    <option value="FJD">FJD</option>
                                    <option value="GBP">GBP</option>
                                    <option value="GTQ">GTQ</option>
                                    <option value="HKD">HKD</option>
                                    <option value="HRK">HRK</option>
                                    <option value="HUF">HUF</option>
                                    <option value="IDR">IDR</option>
                                    <option value="ILS">ILS</option>
                                    <option value="INR">INR</option>
                                    <option value="ISK">ISK</option>
                                    <option value="JPY">JPY</option>
                                    <option value="KRW">KRW</option>
                                    <option value="KZT">KZT</option>
                                    <option value="MXN">MXN</option>
                                    <option value="MYR">MYR</option>
                                    <option value="NOK">NOK</option>
                                    <option value="NZD">NZD</option>
                                    <option value="PAB">PAB</option>
                                    <option value="PEN">PEN</option>
                                    <option value="PHP">PHP</option>
                                    <option value="PKR" >PKR</option>
                                    <option value="PLN">PLN</option>
                                    <option value="PYG">PYG</option>
                                    <option value="RON">RON</option>
                                    <option value="RUB">RUB</option>
                                    <option value="SAR">SAR</option>
                                    <option value="SEK">SEK</option>
                                    <option value="SGD">SGD</option>
                                    <option value="THB">THB</option>
                                    <option value="TRY">TRY</option>
                                    <option value="TWD">TWD</option>
                                    <option value="UAH">UAH</option>
                                    <option value="USD" selected >USD</option>
                                    <option value="UYU">UYU</option>
                                    <option value="VND">VND</option>
                                    <option value="ZAR">ZAR</option>
                                 </select>
                           </td>

                           <td><input type="text" id="from_amount" size="13" value="1"  onkeyup="calculate()"/></td>
                     </tr>  
                      <br> <br> <br>

                      <p>To Currency </p>
                     <tr>
                         <td>

                        <select  id="to_currency" onchange="calculate()">
                            <option value="AED">AED</option>
                            <option value="ARS">ARS</option>
                            <option value="AUD">AUD</option>
                            <option value="BGN">BGN</option>
                            <option value="BRL">BRL</option>
                            <option value="BSD">BSD</option>
                            <option value="CAD">CAD</option>
                            <option value="CHF">CHF</option>
                            <option value="CLP">CLP</option>
                            <option value="CNY">CNY</option>
                            <option value="COP">COP</option>
                            <option value="CZK">CZK</option>
                            <option value="DKK">DKK</option>
                            <option value="DOP">DOP</option>
                            <option value="EGP">EGP</option>
                            <option value="EUR">EUR</option>
                            <option value="FJD">FJD</option>
                            <option value="GBP">GBP</option>
                            <option value="GTQ">GTQ</option>
                            <option value="HKD">HKD</option>
                            <option value="HRK">HRK</option>
                            <option value="HUF">HUF</option>
                            <option value="IDR">IDR</option>
                            <option value="ILS">ILS</option>
                            <option value="INR">INR</option>
                            <option value="ISK">ISK</option>
                            <option value="JPY">JPY</option>
                            <option value="KRW">KRW</option>
                            <option value="KZT">KZT</option>
                            <option value="MXN">MXN</option>
                            <option value="MYR">MYR</option>
                            <option value="NOK">NOK</option>
                            <option value="NZD">NZD</option>
                            <option value="PAB">PAB</option>
                            <option value="PEN">PEN</option>
                            <option value="PHP">PHP</option>
                            <option value="PKR" selected>PKR</option>
                            <option value="PLN">PLN</option>
                            <option value="PYG">PYG</option>
                            <option value="RON">RON</option>
                            <option value="RUB">RUB</option>
                            <option value="SAR">SAR</option>
                            <option value="SEK">SEK</option>
                            <option value="SGD">SGD</option>
                            <option value="THB">THB</option>
                            <option value="TRY">TRY</option>
                            <option value="TWD">TWD</option>
                            <option value="UAH">UAH</option>
                            <option value="USD" >USD</option>
                            <option value="UYU">UYU</option>
                            <option value="VND">VND</option>
                            <option value="ZAR">ZAR</option>
                         </select>
                        </td>

                         <td><input type="text" id="to_amount" size="13" disabled /></td>

                     </tr>

                     <tr>
                         <td><input type="submit" ></td>
                     </tr>
                 
               </tabel>
            </div>
                 
         </div>
     
 
</body>
</html>